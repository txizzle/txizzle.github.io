function imageItem(e){this.image_item=new Image,this.image_item.src=e}function get_ImageItemLocation(e){return e.image_item.src}function randNum(e,t){var i=t-e+1;return Math.floor(Math.random()*i)+e}function getNextImage(){imageNum=randNum(0,totalImages-1);var e=get_ImageItemLocation(imageArray[imageNum]);return e}function switchImage(e){var t=getNextImage();document[e].src=t,d3.select("#test").text(t);var i=/\d\d\d\.JPG/,n=i.exec(t);d3.selectAll(".datas p").each(function(e){e.c==n[0]&&(answerLat=e.lat,answerLong=e["long"],d3.select("#answers").text("Latitude: "+answerLat+" Longitude: "+answerLong))})}function receiveGuess(e,t){total+=1;var i=Math.pow(1e4*(answerLat-e)*3280.4/90,2)+Math.pow(1e4*(answerLong-t)*3280.4/90,2);i=Math.pow(i,.5),score+=getPoints(i),d3.select("#score").text("Score: "+score),d3.select("#avgscore").text("Average Score: "+Math.round(score/total)),d3.select("#lastguess").text("Your last guess was "+Math.round(i)+"ft off")}function getPoints(e){var t=1e3;return 0===e?t:Math.max(0,Math.round(t-e))}var imageNum=0,imageDir="gameimg/",answerLat=0,answerLong=0,score=0,total=0;d3.csv("locations.csv",function(e){d3.select(".datas").selectAll("p").data(e).enter().append("p")});var totalImages=18;for(imageArray=[],i=1;i<totalImages;i++)i<10?imageArray[imageNum++]=new imageItem(imageDir+"00"+i.toString()+".JPG"):i<100?imageArray[imageNum++]=new imageItem(imageDir+"0"+i.toString()+".JPG"):imageArray[imageNum++]=new imageItem(imageDir+i.toString()+".JPG");